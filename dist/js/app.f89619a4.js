(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/todolist/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0034":function(t,e,n){"use strict";n("33a8")},"33a8":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("link",{attrs:{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x",crossorigin:"anonymous"}}),t._m(0),n("router-view")],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[n("div",{staticClass:"container-fluid"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Todolist")]),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarColor02"}},[n("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{"aria-current":"page",href:"/#/assignments"}},[t._v("Assignment")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{"aria-current":"page",href:"/#/archive"}},[t._v("Archive")])])])])])])])}],r=n("2877"),o={},c=Object(r["a"])(o,a,i,!1,null,null,null),l=c.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("date-picker"),n("input-box"),n("check-list")],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-4"},[n("date-picker",{attrs:{type:"date"},on:{input:function(e){t.deadline&&t.loadAssignments({date:t.deadline,page:t.page})}},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)])},g=[],f=n("9ab4"),b=n("2f62"),v=n("ec45"),h=(n("411c"),{components:{DatePicker:v["a"]},data:function(){return{deadline:null}},computed:Object(f["a"])({},Object(b["c"])(["page","currentDate"])),methods:Object(f["a"])({},Object(b["b"])(["loadAssignments"]))}),y=h,O=Object(r["a"])(y,m,g,!1,null,null,null),j=O.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group my-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){t.description&&t.addAssignment(t.createAssignment())}}},[t._v(" add assignment ")])])},D=[],A={name:"InputBox",data:function(){return{description:void 0}},methods:Object(f["a"])(Object(f["a"])({},Object(b["b"])(["addAssignment"])),{createAssignment:function(){return{description:this.description,isImportant:!1,isDone:!1,deadline:null}}})},C=A,k=Object(r["a"])(C,x,D,!1,null,null,null),_=k.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center"},[t.pageCount?n("pagination",{staticStyle:{display:"flex"}}):t._e(),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"col",attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.pageSize},on:{__r:function(e){t.pageSize=e.target.value}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"col-2",attrs:{type:"number",min:"1",max:"10"},domProps:{value:t.pageSize},on:{input:function(e){e.target.composing||(t.pageSize=e.target.value)}}})]),n("ul",{staticClass:"object administrator-checkbox-list"},[t._l(t.assignments,(function(t,e){return n("assignment-row",{key:e,attrs:{assignment:t,index:e}})})),n("button",{staticClass:"col btn btn-outline-primary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.save()}}},[t._v(" Save ")])],2)],1)},w=[],S=n("bc3a"),I=n.n(S),N={getNoDateAssignments:function(){return I.a.get("http://localhost:5000/api/assignments/date/")},getAssignmentsByDate:function(t,e,n){return I.a.get("http://localhost:5000/api/assignments/date/"+t.getTime(),{params:{start:e,count:n}})},getDoneAssingments:function(){return I.a.get("http://localhost:5000/api/assignments/done")},postAssignments:function(t){return I.a.put("http://localhost:5000/api/assignments",t)},getPageCount:function(){return I.a.get("http://localhost:5000/api/assignments/count")}},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row my-2 justify-content-center"},[n("div",{staticClass:"col-4"},[n("i",{staticClass:"mx-2 fas fa-thumbtack",style:[t.assignment.isImportant&&t.thumbtackStyle],on:{click:function(e){return t.markImportantAssignment(t.index)}}}),n("input",{staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:t.assignment.isDone},on:{click:function(e){return t.changeDoneStatus(t.index)}}}),n("span",{staticClass:"mx-2",staticStyle:{display:"inline",width:"fit-content"},style:{"text-decoration":t.assignment.isDone?"line-through":null}},[t._v(t._s(t.assignment.description))])]),n("div",{staticClass:"col-4"},[n("date-picker",{attrs:{type:"datetime"},on:{input:function(e){return t.setDeadline({index:t.index,deadline:t.deadline})}},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)])},$=[],z={components:{DatePicker:v["a"]},name:"AssignmentRow",props:["assignment","index"],data:function(){return{thumbtackStyle:{transform:"rotate(-45deg)"}}},computed:{deadline:function(){return this.assignment.deadline&&new Date(this.assignment.deadline)}},methods:Object(f["a"])({},Object(b["b"])(["setDeadline","changeDoneStatus","markImportantAssignment"]))},E=z,T=Object(r["a"])(E,M,$,!1,null,null,null),B=T.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pageCount?n("ul",{staticClass:"pagination pg-blue"},[n("li",{staticClass:"page-item",on:{click:function(e){t.pageIndex--}}},[n("a",{staticClass:"page-link"},[t._v("Previous")])]),t._l(t.pages,(function(e){return n("li",{key:e,staticClass:"page-item",class:[e===t.page&&"active"],on:{click:function(n){t.pageIndex=e}}},[n("a",{staticClass:"page-link"},[t._v(t._s(e+1))])])})),n("li",{staticClass:"page-item",on:{click:function(e){t.pageIndex++}}},[n("a",{staticClass:"page-link"},[t._v("Next")])])],2):t._e()},R=[],L={computed:{...Object(b["c"])(["currentDate","pageCount","page"]),pages(){return[...new Array(this.pageCount).keys()]},pageIndex:{get(){return this.page},set(t){this.loadAssignments({date:this.currentDate,page:Math.min(this.pageCount-1,Math.max(0,t))})}}},methods:{...Object(b["b"])(["loadAssignments"])}},Y=L,G=(n("0034"),Object(r["a"])(Y,H,R,!1,null,"2ab857ae",null)),J=G.exports,V={name:"CheckList",components:{AssignmentRow:B,Pagination:J,InputBox:_},data:function(){return{message:null}},methods:Object(f["a"])(Object(f["a"])({},Object(b["b"])(["setAssignmentsPerPage","markImportantAssignment","markDone","setDeadline","loadAssignments","setNoDeadlineAssignments"])),{isDue:function(t){return t&&t.getHours()===(new Date).getHours()&&t.getMinutes()===(new Date).getMinutes()},notify:function(){var t=this;this.assignments.forEach((function(e){e.deadline&&t.isDue(new Date(e.deadline))&&t.$alertify.message(""+e.description)}))},save:function(){return Object(f["b"])(this,void 0,void 0,(function(){return Object(f["c"])(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.assignments.map((function(t){return N.postAssignments(t)})))];case 1:return t.sent(),this.loadAssignments({date:this.currentDate,page:this.page}),[2]}}))}))}}),computed:Object(f["a"])(Object(f["a"])({},Object(b["c"])(["currentDate","assignments","assignmentsPerPage","page","pageCount"])),{pageSize:{get:function(){return this.assignmentsPerPage},set:function(t){this.setAssignmentsPerPage(Number(t))}}}),created:function(){return Object(f["b"])(this,void 0,void 0,(function(){var t,e,n,s=this;return Object(f["c"])(this,(function(a){switch(a.label){case 0:return t=6e4,e=1e3,setTimeout((function(){s.notify(),setInterval(s.notify,t)}),(60-(new Date).getSeconds())*e),[4,N.getNoDateAssignments()];case 1:return n=a.sent().data,this.setNoDeadlineAssignments(n),[2]}}))}))}},W=V,X=Object(r["a"])(W,P,w,!1,null,null,null),Z=X.exports,q=s["a"].extend({name:"Home",components:{DatePicker:j,InputBox:_,CheckList:Z}}),F=q,K=Object(r["a"])(F,p,d,!1,null,null,null),Q=K.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[0!==t.assignments.length?n("ul",{staticClass:"object administrator-checkbox-list"},[t._l(t.assignments,(function(t,e){return n("assignment-row",{key:e,attrs:{assignment:t,index:e}})})),n("button",{staticClass:"col btn btn-outline-primary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.save()}}},[t._v(" Save ")])],2):n("h2",[t._v("Archive is empty")])])},tt=[],et=s["a"].extend({name:"Archive",components:{CheckList:Z,AssignmentRow:B},computed:Object(f["a"])({},Object(b["c"])(["assignments","currentDate","page"])),methods:Object(f["a"])(Object(f["a"])({},Object(b["b"])(["loadDoneAssignments"])),{save:function(){return Object(f["b"])(this,void 0,void 0,(function(){return Object(f["c"])(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.assignments.map((function(t){return N.postAssignments(t)})))];case 1:return t.sent(),this.loadDoneAssignments(),[2]}}))}))}}),created:function(){this.loadDoneAssignments()}}),nt=et,st=Object(r["a"])(nt,U,tt,!1,null,null,null),at=st.exports;s["a"].use(u["a"]);var it=[{path:"/Assignments",name:"Home",component:Q},{path:"/archive",name:"archive",component:at}],rt=new u["a"]({routes:it}),ot=rt;s["a"].use(b["a"]);var ct=new b["a"].Store({state:{assignments:[],noDeadlineAssignments:[],currentDate:new Date,page:0,assignmentsPerPage:3,pageCount:0},mutations:{loadAssignments:function(t,e){var n=e.date,s=e.page;return Object(f["b"])(this,void 0,void 0,(function(){var e,a,i,r,o,c;return Object(f["c"])(this,(function(l){switch(l.label){case 0:return t.page=s,t.currentDate=n,e=t,[4,N.getAssignmentsByDate(n,s*t.assignmentsPerPage,t.assignmentsPerPage)];case 1:return e.assignments=l.sent().data,a=t,r=(i=Math).ceil,[4,N.getPageCount()];case 2:return a.pageCount=r.apply(i,[l.sent().data.count/t.assignmentsPerPage]),o=t,[4,N.getNoDateAssignments()];case 3:return o.noDeadlineAssignments=l.sent().data,(c=t.assignments).push.apply(c,t.noDeadlineAssignments),[2]}}))}))},loadDoneAssignments:function(t){return Object(f["b"])(this,void 0,void 0,(function(){var e;return Object(f["c"])(this,(function(n){switch(n.label){case 0:return[4,N.getDoneAssingments()];case 1:return e=n.sent(),t.assignments=e.data,[2]}}))}))},setNoDeadlineAssignments:function(t,e){t.noDeadlineAssignments=e},setAssignmentsPerPage:function(t,e){t.assignmentsPerPage=e},setAssignments:function(t,e){var n;t.assignments=e,(n=t.assignments).push.apply(n,t.noDeadlineAssignments)},addAssignment:function(t,e){t.assignments.push(e)},changeDoneStatus:function(t,e){var n=t.assignments;n[e].isDone=!n[e].isDone},setDeadline:function(t,e){var n=e.index,s=e.deadline;t.assignments[n].deadline=s},markImportantAssignment:function(t,e){var n=t.assignments;n[e].isImportant=!n[e].isImportant,n.sort((function(t,e){return t.isImportant===e.isImportant?0:t.isImportant?-1:1}))}}}),lt=n("50cf");s["a"].config.productionTip=!1,s["a"].use(lt["a"],{notifier:{delay:5,position:"top-right",closeButton:!1}}),s["a"].use(b["a"]),new s["a"]({store:ct,router:ot,render:function(t){return t(l)}}).$mount("#app")}});
//# sourceMappingURL=app.f89619a4.js.map